{"version":3,"sources":["images/pin.png","images/calendar.png","images/temperature.png","images/sunrise.png","images/sunset.png","images/pressure.png","images/humidity.png","images/uvi.png","images/cloud.png","images/visibility.png","images/speed.png","images/compass.png","apis/openweathermap.js","apis/opencagedata.js","components/Spinner.js","components/CurrentWeather.js","components/App.js","index.js"],"names":["module","exports","axios","create","baseURL","params","exclude","appid","key","Spinner","props","className","text","defaultProps","CurrentWeather","weather","temp","id","src","icon","alt","weatherDesc","style","width","weatherMain","require","location","Date","time","getDay","getDate","getMonth","Math","round","convert","from","to","feelsLike","sunrise","toLocaleTimeString","hour","minute","sunset","pressure","humidity","uvi","clouds","visibility","windSpeed","windDeg","App","state","lat","lon","error","callAPI","openweathermap","get","then","response","setState","data","current","dt","feels_like","wind_speed","wind_deg","main","description","opencagedata","q","results","components","suburb","city","window","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","failure","message","prevProps","prevState","snapshot","this","renderWeather","renderContent","React","Component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.8a7d3e40.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pin.cfc4da78.png\";","module.exports = __webpack_public_path__ + \"static/media/calendar.e93c1086.png\";","module.exports = __webpack_public_path__ + \"static/media/temperature.b4ef8e05.png\";","module.exports = __webpack_public_path__ + \"static/media/sunrise.d8fd7891.png\";","module.exports = __webpack_public_path__ + \"static/media/sunset.ff15e08c.png\";","module.exports = __webpack_public_path__ + \"static/media/pressure.4bf84469.png\";","module.exports = __webpack_public_path__ + \"static/media/humidity.a31b0c7b.png\";","module.exports = __webpack_public_path__ + \"static/media/uvi.7a9ab15d.png\";","module.exports = __webpack_public_path__ + \"static/media/cloud.a1cb48a6.png\";","module.exports = __webpack_public_path__ + \"static/media/visibility.dfbdf2cc.png\";","module.exports = __webpack_public_path__ + \"static/media/speed.0aaafaea.png\";","module.exports = __webpack_public_path__ + \"static/media/compass.fb6ed6e4.png\";","import axios from 'axios';\r\n\r\nconst KEY = 'f683e8465003bfccb7b50ea1b36f9782';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://api.openweathermap.org/data/2.5',\r\n    params: {\r\n        exclude: 'minutely,hourly',\r\n        appid: KEY\r\n    }\r\n});","import axios from 'axios';\r\n\r\nconst KEY = '8697ebb88ed442a28962efd62c1f2b63';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://api.opencagedata.com/geocode/v1',\r\n    params: {\r\n        key: KEY\r\n    }\r\n});","import React from \"react\";\r\n\r\nconst Spinner = (props) => {\r\n    return (\r\n        <div className='ui active inverted dimmer'>\r\n            <div className='ui large text loader'>\r\n                {props.text}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nSpinner.defaultProps = {\r\n    text: 'Loading'\r\n};\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport convert from 'convert-units';\r\nimport '../stylesheets/CurrentWeather.css';\r\n\r\nconst CurrentWeather = (props) => {\r\n    if (!props.weather.temp) {\r\n        return (\r\n            <div className='ui active inverted loader'>\r\n                <div className='ui large text loader'>Getting weather...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    let day = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    let month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n    return (\r\n        <section className='ui container' id='main'>\r\n            <div className='ui segments' id='current_weather'>\r\n                <div className='ui segment' id='weather_div'>\r\n                    <img  className=\"ui centered image\" src={`http://openweathermap.org/img/w/${props.weather.icon}.png`}\r\n                         alt={props.weather.weatherDesc} style={{width: \"4.5rem\"}}/>\r\n                    <h3 className=\"mb-3\"><strong>{props.weather.weatherMain}</strong></h3>\r\n                    <div id=\"place_day\" className=\"mb-3\">\r\n                        <span className=\"row mb-2\"><img src={require(\"../images/pin.png\")} alt=\"place\" style={{width: \"1.5rem\"}}/><p\r\n                            className=\"mt-1 ml-2\"><strong>{props.weather.location}</strong></p></span>\r\n                        <span className='row mb-2'><img src={require(\"../images/calendar.png\")} alt=\"date\" style={{width: \"1.5rem\"}}/><p\r\n                            className=\"mt-1 ml-2\"><strong>{`${day[new Date(props.weather.time * 1000).getDay()]}, \r\n                        ${new Date(props.weather.time * 1000).getDate()} ${month[new Date(props.weather.time * 1000).getMonth()]}`}\r\n                            </strong></p></span>\r\n                    </div>\r\n                    <span className=\"row mb-2\" id=\"temp\"><img src={require(\"../images/temperature.png\")} alt=\"temperature\"\r\n                                                              style={{width: '3rem'}}/><h4\r\n                        className=\"mt-1 ml-1\"><strong>{Math.round(convert(props.weather.temp).from(\"K\").to(\"C\"))}&deg; C</strong></h4></span>\r\n                    <i><strong>Feels\r\n                        like {Math.round(convert(props.weather.feelsLike).from(\"K\").to(\"C\"))}&deg; C</strong></i>\r\n                </div>\r\n                <div className='ui segment' id='solar_div'>\r\n                <span className=\"row\"><img src={require(\"../images/sunrise.png\")} alt=\"sunrise\" style={{width: '2.5rem'}}/><strong\r\n                    className=\"mt-3 ml-2\">\r\n                    {new Date(props.weather.sunrise * 1000).toLocaleTimeString([], {\r\n                        hour: '2-digit',\r\n                        minute: '2-digit'\r\n                    })}</strong></span>\r\n                    <span className=\"row\"><img src={require(\"../images/sunset.png\")} alt=\"sunset\" style={{width: '2.5rem'}}/><strong\r\n                        className=\"mt-3 ml-2\">\r\n                    {new Date(props.weather.sunset * 1000).toLocaleTimeString([], {\r\n                        hour: '2-digit',\r\n                        minute: '2-digit'\r\n                    })}</strong></span>\r\n                </div>\r\n                <div className='ui segment' id='atmos_div'>\r\n                    <div id=\"atmos_1\">\r\n                    <span className=\"row\"><img src={require(\"../images/pressure.png\")} alt=\"pressure\"\r\n                                               style={{width: '2rem'}}/><strong\r\n                        className=\"mt-1 ml-2\">{props.weather.pressure} hPa</strong></span>\r\n                        <span className=\"row\"><img src={require(\"../images/humidity.png\")} alt=\"humidity\"\r\n                                                   style={{width: '2rem'}}/><strong\r\n                            className=\"mt-1 ml-2\">{props.weather.humidity}%</strong></span>\r\n                    </div>\r\n                    <div id=\"atmos_2\">\r\n                    <span className=\"row\"><img src={require(\"../images/uvi.png\")} alt=\"uv_index\" style={{width: '2rem'}}/><strong\r\n                        className=\"mt-1 ml-2\">{props.weather.uvi}</strong></span>\r\n                        <span className=\"row\"><img src={require(\"../images/cloud.png\")} alt=\"clouds\"\r\n                                                   style={{width: '2rem'}}/><strong\r\n                            className=\"mt-1 ml-2\">{props.weather.clouds}%</strong></span>\r\n                    </div>\r\n                    <span id=\"atmos_3\" className=\"row\"><img src={require(\"../images/visibility.png\")} alt=\"visibility\"\r\n                                                            style={{width: '2rem'}}/><strong\r\n                        className=\"mt-1 ml-2\">{props.weather.visibility} meters</strong></span>\r\n                </div>\r\n                <div className='ui segment' id='wind_div'>\r\n                <span className=\"row\"><img src={require(\"../images/speed.png\")} alt=\"wind_velocity\"\r\n                                           style={{width: '2rem'}}/><strong\r\n                    className=\"mt-1 ml-2\">{Math.round(convert(props.weather.windSpeed).from('m/s').to('km/h'))} km/h</strong></span>\r\n                    <span className=\"row\"><img src={require(\"../images/compass.png\")} alt=\"wind_direction\"\r\n                                               style={{width: '2rem'}}/><strong\r\n                        className=\"mt-1 ml-2\">{props.weather.windDeg}&deg;</strong></span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default CurrentWeather;","import React from \"react\";\r\nimport openweathermap from \"../apis/openweathermap\";\r\nimport opencagedata from \"../apis/opencagedata\";\r\nimport Spinner from \"./Spinner\";\r\nimport CurrentWeather from \"./CurrentWeather\";\r\n\r\nclass App extends React.Component {\r\n    state = {lat: null, lon: null, error: '', location: '', time: '', sunrise: null, sunset: null, temp: null, feelsLike: null, pressure: null,\r\n        humidity: null, uvi: null, clouds: null, visibility: null, windSpeed: null, windDeg: null, weatherMain: '', weatherDesc: '', icon: ''};\r\n\r\n    componentDidMount() {\r\n        window.navigator.geolocation.getCurrentPosition(\r\n            (position) => this.setState({lat: position.coords.latitude, lon: position.coords.longitude}),\r\n            (failure) => this.setState({error: failure.message})\r\n        );\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.state.lat !== prevState.lat) {\r\n            this.callAPI();\r\n        }\r\n    }\r\n\r\n    callAPI = () => {\r\n        openweathermap.get('/onecall', {\r\n            params: {\r\n                lat: this.state.lat,\r\n                lon: this.state.lon\r\n            }\r\n        }).then((response) => {\r\n            this.setState({\r\n                lat: response.data.lat,\r\n                lon: response.data.lon,\r\n                time: response.data.current.dt,\r\n                sunrise: response.data.current.sunrise,\r\n                sunset: response.data.current.sunset,\r\n                temp: response.data.current.temp,\r\n                feelsLike: response.data.current.feels_like,\r\n                pressure: response.data.current.pressure,\r\n                humidity: response.data.current.humidity,\r\n                uvi: response.data.current.uvi,\r\n                clouds: response.data.current.clouds,\r\n                visibility: response.data.current.visibility,\r\n                windSpeed: response.data.current.wind_speed,\r\n                windDeg: response.data.current.wind_deg,\r\n                weatherMain: response.data.current.weather[0].main,\r\n                weatherDesc: response.data.current.weather[0].description,\r\n                icon: response.data.current.weather[0].icon\r\n            });\r\n        });\r\n\r\n        opencagedata.get('/json', {\r\n            params: {\r\n                q: `${this.state.lat},${this.state.lon}`\r\n            }\r\n        }).then((response) => {\r\n            this.setState({\r\n                location: `${response.data.results[0].components.suburb}, ${response.data.results[0].components.city}`\r\n            })\r\n        });\r\n    };\r\n\r\n    renderContent() {\r\n        //setInterval(this.callAPI, 3600000); //update every 1 hour\r\n\r\n        if (!this.state.lat || !this.state.lon) {\r\n            if (this.state.error !== '') {\r\n                return <p className='text-danger'>{this.state.error}</p>;\r\n            }\r\n            return <Spinner text='Please allow access to your location'/>;\r\n        }\r\n\r\n        return this.renderWeather();\r\n    };\r\n\r\n    renderWeather() {\r\n        return (\r\n            <div>\r\n                <CurrentWeather weather={this.state}/>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderContent()}\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./components/App\";\n\nReactDOM.render(<App/>, document.querySelector('#root'));"],"sourceRoot":""}