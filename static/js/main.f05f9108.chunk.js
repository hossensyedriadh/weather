(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{28:function(e,t,a){e.exports=a(84)},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),i=a.n(l),c=a(24),s=a(25),u=a(27),o=a(26),d=a(4),m=a.n(d),h=m.a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{exclude:"minutely,hourly",appid:"f683e8465003bfccb7b50ea1b36f9782"}}),p=m.a.create({baseURL:"https://api.opencagedata.com/geocode/v1",params:{key:"8697ebb88ed442a28962efd62c1f2b63"}}),w=function(e){return r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui large text loader"},e.text))};w.defaultProps={text:"Loading"};var g=w,E=a(5),v=a.n(E),y=(a(83),function(e){if(!e.weather.temp)return r.a.createElement("div",{className:"ui segment",style:{height:"100%",width:"100%"}},r.a.createElement("div",{className:"ui active inverted loader"},r.a.createElement("div",{className:"ui large text loader"},"Getting weather...")));return r.a.createElement("section",{className:"ui segments",id:"current_weather"},r.a.createElement("div",{className:"ui segment",id:"weather_div"},r.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(e.weather.icon,".png"),alt:e.weather.weatherDesc}),r.a.createElement("p",null,r.a.createElement("strong",null,e.weather.weatherMain)),r.a.createElement("p",null,r.a.createElement("strong",null,e.weather.location)),r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*e.weather.time).getDay()],", ").concat(new Date(1e3*e.weather.time).getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(1e3*e.weather.time).getMonth()]))),r.a.createElement("p",null,"Temperature: ",r.a.createElement("strong",null,Math.round(v()(e.weather.temp).from("K").to("C")),"\xb0 C")),r.a.createElement("p",null,"Feels like: ",r.a.createElement("strong",null,Math.round(v()(e.weather.feelsLike).from("K").to("C")),"\xb0 C"))),r.a.createElement("div",{className:"ui segment",id:"solar_div"},r.a.createElement("p",null,"Sunrise: ",r.a.createElement("strong",null,new Date(1e3*e.weather.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))),r.a.createElement("p",null,"Sunset: ",r.a.createElement("strong",null,new Date(1e3*e.weather.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))),r.a.createElement("div",{className:"ui segment",id:"atmos_div"},r.a.createElement("p",null,"Pressure: ",r.a.createElement("strong",null,e.weather.pressure," hPa")),r.a.createElement("p",null,"Humidity: ",r.a.createElement("strong",null,e.weather.humidity,"%")),r.a.createElement("p",null,"UV Index: ",r.a.createElement("strong",null,e.weather.uvi)),r.a.createElement("p",null,"Clouds: ",r.a.createElement("strong",null,e.weather.clouds,"%")),r.a.createElement("p",null,"Visibility: ",r.a.createElement("strong",null,e.weather.visibility," meters"))),r.a.createElement("div",{className:"ui segment",id:"wind_div"},r.a.createElement("p",null,"Wind Velocity: ",r.a.createElement("strong",null,Math.round(v()(e.weather.windSpeed).from("m/s").to("km/h"))," km/h")),r.a.createElement("p",null,"Wind Direction: ",r.a.createElement("strong",null,e.weather.windDeg,"\xb0"))))}),f=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={lat:null,lon:null,error:"",location:"",time:"",sunrise:null,sunset:null,temp:null,feelsLike:null,pressure:null,humidity:null,uvi:null,clouds:null,visibility:null,windSpeed:null,windDeg:null,weatherMain:"",weatherDesc:"",icon:""},e.callAPI=function(){h.get("/onecall",{params:{lat:e.state.lat,lon:e.state.lon}}).then((function(t){e.setState({lat:t.data.lat,lon:t.data.lon,time:t.data.current.dt,sunrise:t.data.current.sunrise,sunset:t.data.current.sunset,temp:t.data.current.temp,feelsLike:t.data.current.feels_like,pressure:t.data.current.pressure,humidity:t.data.current.humidity,uvi:t.data.current.uvi,clouds:t.data.current.clouds,visibility:t.data.current.visibility,windSpeed:t.data.current.wind_speed,windDeg:t.data.current.wind_deg,weatherMain:t.data.current.weather[0].main,weatherDesc:t.data.current.weather[0].description,icon:t.data.current.weather[0].icon})})),p.get("/json",{params:{q:"".concat(e.state.lat,",").concat(e.state.lon)}}).then((function(t){e.setState({location:"".concat(t.data.results[0].components.suburb,", ").concat(t.data.results[0].components.city)})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition((function(t){return e.setState({lat:t.coords.latitude,lon:t.coords.longitude})}),(function(t){return e.setState({error:t.message})}))}},{key:"componentDidUpdate",value:function(e,t,a){this.state.lat!==t.lat&&this.callAPI()}},{key:"renderContent",value:function(){return this.state.lat&&this.state.lon?this.renderWeather():""!==this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):r.a.createElement(g,{text:"Please allow access to your location"})}},{key:"renderWeather",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{weather:this.state}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui container",style:{display:"flex",justifyContent:"space-around",flexWrap:"nowrap"}},this.renderContent())}}]),a}(r.a.Component);i.a.render(r.a.createElement(f,null),document.querySelector("#root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.f05f9108.chunk.js.map