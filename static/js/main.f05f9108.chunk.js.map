{"version":3,"sources":["apis/openweathermap.js","apis/opencagedata.js","components/Spinner.js","components/CurrentWeather.js","components/App.js","index.js"],"names":["axios","create","baseURL","params","exclude","appid","key","Spinner","props","className","text","defaultProps","CurrentWeather","weather","temp","style","height","width","id","src","icon","alt","weatherDesc","weatherMain","location","Date","time","getDay","getDate","getMonth","Math","round","convert","from","to","feelsLike","sunrise","toLocaleTimeString","hour","minute","sunset","pressure","humidity","uvi","clouds","visibility","windSpeed","windDeg","App","state","lat","lon","error","callAPI","openweathermap","get","then","response","setState","data","current","dt","feels_like","wind_speed","wind_deg","main","description","opencagedata","q","results","components","suburb","city","window","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","failure","message","prevProps","prevState","snapshot","this","renderWeather","display","justifyContent","flexWrap","renderContent","React","Component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.f05f9108.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst KEY = 'f683e8465003bfccb7b50ea1b36f9782';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://api.openweathermap.org/data/2.5',\r\n    params: {\r\n        exclude: 'minutely,hourly',\r\n        appid: KEY\r\n    }\r\n});","import axios from 'axios';\r\n\r\nconst KEY = '8697ebb88ed442a28962efd62c1f2b63';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://api.opencagedata.com/geocode/v1',\r\n    params: {\r\n        key: KEY\r\n    }\r\n});","import React from \"react\";\r\n\r\nconst Spinner = (props) => {\r\n    return (\r\n        <div className='ui active inverted dimmer'>\r\n            <div className='ui large text loader'>\r\n                {props.text}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nSpinner.defaultProps = {\r\n    text: 'Loading'\r\n};\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport convert from 'convert-units';\r\nimport '../stylesheets/CurrentWeather.css';\r\n\r\nconst CurrentWeather = (props) => {\r\n    if (!props.weather.temp) {\r\n        return (\r\n            <div className='ui segment' style={{height: '100%', width: '100%'}}>\r\n                <div className='ui active inverted loader'>\r\n                    <div className='ui large text loader'>Getting weather...</div>\r\n                </div>\r\n            </div>\r\n            );\r\n    }\r\n\r\n    let day = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    let month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n    return (\r\n        <section className='ui segments' id='current_weather'>\r\n            <div className='ui segment' id='weather_div'>\r\n                <img src={`http://openweathermap.org/img/w/${props.weather.icon}.png`} alt={props.weather.weatherDesc}/>\r\n                <p><strong>{props.weather.weatherMain}</strong></p>\r\n                <p><strong>{props.weather.location}</strong></p>\r\n                <p><strong>{`${day[new Date(props.weather.time*1000).getDay()]}, ${new Date(props.weather.time*1000).getDate()} ${month[new Date(props.weather.time*1000).getMonth()]}`}</strong></p>\r\n                <p>Temperature: <strong>{Math.round(convert(props.weather.temp).from(\"K\").to(\"C\"))}&deg; C</strong></p>\r\n                <p>Feels like: <strong>{Math.round(convert(props.weather.feelsLike).from(\"K\").to(\"C\"))}&deg; C</strong></p>\r\n            </div>\r\n            <div className='ui segment' id='solar_div'>\r\n                <p>Sunrise: <strong>{new Date(props.weather.sunrise*1000).toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'})}</strong></p>\r\n                <p>Sunset: <strong>{new Date(props.weather.sunset*1000).toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'})}</strong></p>\r\n            </div>\r\n            <div className='ui segment' id='atmos_div'>\r\n                <p>Pressure: <strong>{props.weather.pressure} hPa</strong></p>\r\n                <p>Humidity: <strong>{props.weather.humidity}%</strong></p>\r\n                <p>UV Index: <strong>{props.weather.uvi}</strong></p>\r\n                <p>Clouds: <strong>{props.weather.clouds}%</strong></p>\r\n                <p>Visibility: <strong>{props.weather.visibility} meters</strong></p>\r\n            </div>\r\n            <div className='ui segment' id='wind_div'>\r\n                <p>Wind Velocity: <strong>{Math.round(convert(props.weather.windSpeed).from('m/s').to('km/h'))} km/h</strong></p>\r\n                <p>Wind Direction: <strong>{props.weather.windDeg}&deg;</strong></p>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default CurrentWeather;","import React from \"react\";\r\nimport openweathermap from \"../apis/openweathermap\";\r\nimport opencagedata from \"../apis/opencagedata\";\r\nimport Spinner from \"./Spinner\";\r\nimport CurrentWeather from \"./CurrentWeather\";\r\n\r\nclass App extends React.Component {\r\n    state = {lat: null, lon: null, error: '', location: '', time: '', sunrise: null, sunset: null, temp: null, feelsLike: null, pressure: null,\r\n        humidity: null, uvi: null, clouds: null, visibility: null, windSpeed: null, windDeg: null, weatherMain: '', weatherDesc: '', icon: ''};\r\n\r\n    componentDidMount() {\r\n        window.navigator.geolocation.getCurrentPosition(\r\n            (position) => this.setState({lat: position.coords.latitude, lon: position.coords.longitude}),\r\n            (failure) => this.setState({error: failure.message})\r\n        );\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.state.lat !== prevState.lat) {\r\n            this.callAPI();\r\n        }\r\n    }\r\n\r\n    callAPI = () => {\r\n        openweathermap.get('/onecall', {\r\n            params: {\r\n                lat: this.state.lat,\r\n                lon: this.state.lon\r\n            }\r\n        }).then((response) => {\r\n            this.setState({\r\n                lat: response.data.lat,\r\n                lon: response.data.lon,\r\n                time: response.data.current.dt,\r\n                sunrise: response.data.current.sunrise,\r\n                sunset: response.data.current.sunset,\r\n                temp: response.data.current.temp,\r\n                feelsLike: response.data.current.feels_like,\r\n                pressure: response.data.current.pressure,\r\n                humidity: response.data.current.humidity,\r\n                uvi: response.data.current.uvi,\r\n                clouds: response.data.current.clouds,\r\n                visibility: response.data.current.visibility,\r\n                windSpeed: response.data.current.wind_speed,\r\n                windDeg: response.data.current.wind_deg,\r\n                weatherMain: response.data.current.weather[0].main,\r\n                weatherDesc: response.data.current.weather[0].description,\r\n                icon: response.data.current.weather[0].icon\r\n            });\r\n        });\r\n\r\n        opencagedata.get('/json', {\r\n            params: {\r\n                q: `${this.state.lat},${this.state.lon}`\r\n            }\r\n        }).then((response) => {\r\n            this.setState({\r\n                location: `${response.data.results[0].components.suburb}, ${response.data.results[0].components.city}`\r\n            })\r\n        });\r\n    };\r\n\r\n    renderContent() {\r\n        //setInterval(this.callAPI, 3600000); //update every 1 hour\r\n\r\n        if (!this.state.lat || !this.state.lon) {\r\n            if (this.state.error !== '') {\r\n                return <p className='text-danger'>{this.state.error}</p>;\r\n            }\r\n            return <Spinner text='Please allow access to your location'/>;\r\n        }\r\n\r\n        return this.renderWeather();\r\n    };\r\n\r\n    renderWeather() {\r\n        return (\r\n            <div>\r\n                <CurrentWeather weather={this.state}/>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className='ui container' style={{display: \"flex\", justifyContent: \"space-around\", flexWrap: \"nowrap\"}}>\r\n                {this.renderContent()}\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./components/App\";\n\nReactDOM.render(<App/>, document.querySelector('#root'));"],"sourceRoot":""}